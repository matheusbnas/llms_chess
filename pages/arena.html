<!-- ♟️ Arena Page -->
<div class="text-center mb-32">
    <h1 style="font-size: 32px; font-weight: 700; margin-bottom: 8px;">
        <i class="fas fa-swords" style="color: var(--lichess-brown-light);"></i>
        Arena de Batalhas
    </h1>
    <p style="color: var(--text-secondary); font-size: 16px;">
        Configure torneios e batalhas entre modelos de IA
    </p>
</div>

<!-- Navigation Tabs -->
<div class="tabs">
    <button class="tab-btn active" data-tab="battle">
        <i class="fas fa-fist-raised"></i>
        Batalha 1v1
    </button>
    <button class="tab-btn" data-tab="tournament">
        <i class="fas fa-trophy"></i>
        Torneio
    </button>
    <button class="tab-btn" data-tab="active">
        <i class="fas fa-play"></i>
        Partidas Ativas
    </button>
    <button class="tab-btn" data-tab="history">
        <i class="fas fa-history"></i>
        Histórico
    </button>
</div>

<!-- Battle 1v1 Tab -->
<div id="battle-tab" class="tab-content active">
    <div class="d-grid" style="grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
        <!-- White Model Selection -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-chess-king"></i>
                    Modelo 1 (Brancas)
                </h3>
                <span class="badge badge-primary">ELO: 1847</span>
            </div>
            
            <div class="form-group">
                <label class="form-label">Selecionar Modelo</label>
                <select class="form-control" id="battle-white-model">
                    <option value="GPT-4o">GPT-4o</option>
                    <option value="GPT-4-Turbo">GPT-4-Turbo</option>
                    <option value="Gemini-1.5-Pro">Gemini-1.5-Pro</option>
                    <option value="Claude-3.5-Sonnet" selected>Claude-3.5-Sonnet</option>
                    <option value="Llama-3.1-70B">Llama-3.1-70B</option>
                    <option value="Deepseek-R1">Deepseek-R1</option>
                </select>
            </div>
            
            <div class="text-center mb-16">
                <div class="model-avatar" style="width: 80px; height: 80px; background: var(--lichess-brown); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 32px; color: white; margin: 16px auto;">
                    <i class="fas fa-crown"></i>
                </div>
                <div style="font-weight: 600; font-size: 18px;">Claude-3.5-Sonnet</div>
                <div style="color: var(--text-secondary); font-size: 14px;">Anthropic • Master Level</div>
            </div>
            
            <div class="d-grid" style="grid-template-columns: 1fr 1fr; gap: 12px; font-size: 14px; background: var(--bg-tertiary); padding: 12px; border-radius: var(--border-radius);">
                <div class="text-center">
                    <div style="font-weight: 700; color: var(--lichess-green);">68%</div>
                    <div style="color: var(--text-secondary);">Win Rate</div>
                </div>
                <div class="text-center">
                    <div style="font-weight: 700; color: var(--lichess-blue);">156</div>
                    <div style="color: var(--text-secondary);">Jogos</div>
                </div>
            </div>
        </div>

        <!-- Black Model Selection -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-chess-queen"></i>
                    Modelo 2 (Pretas)
                </h3>
                <span class="badge badge-secondary">ELO: 1823</span>
            </div>
            
            <div class="form-group">
                <label class="form-label">Selecionar Modelo</label>
                <select class="form-control" id="battle-black-model">
                    <option value="GPT-4o" selected>GPT-4o</option>
                    <option value="GPT-4-Turbo">GPT-4-Turbo</option>
                    <option value="Gemini-1.5-Pro">Gemini-1.5-Pro</option>
                    <option value="Claude-3.5-Sonnet">Claude-3.5-Sonnet</option>
                    <option value="Llama-3.1-70B">Llama-3.1-70B</option>
                    <option value="Deepseek-R1">Deepseek-R1</option>
                </select>
            </div>
            
            <div class="text-center mb-16">
                <div class="model-avatar" style="width: 80px; height: 80px; background: var(--lichess-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 32px; color: white; margin: 16px auto;">
                    <i class="fas fa-brain"></i>
                </div>
                <div style="font-weight: 600; font-size: 18px;">GPT-4o</div>
                <div style="color: var(--text-secondary); font-size: 14px;">OpenAI • Expert Level</div>
            </div>
            
            <div class="d-grid" style="grid-template-columns: 1fr 1fr; gap: 12px; font-size: 14px; background: var(--bg-tertiary); padding: 12px; border-radius: var(--border-radius);">
                <div class="text-center">
                    <div style="font-weight: 700; color: var(--lichess-green);">64%</div>
                    <div style="color: var(--text-secondary);">Win Rate</div>
                </div>
                <div class="text-center">
                    <div style="font-weight: 700; color: var(--lichess-blue);">142</div>
                    <div style="color: var(--text-secondary);">Jogos</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Battle Configuration -->
    <div class="card mb-24">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-cog"></i>
                Configurações da Batalha
            </h3>
            <div class="d-flex gap-8">
                <span class="badge badge-success">Modelos Online</span>
                <span style="color: var(--text-muted); font-size: 12px;">Tempo estimado: ~5 minutos</span>
            </div>
        </div>

        <div class="d-grid" style="grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 20px;">
            <div class="form-group">
                <label class="form-label">Número de Partidas</label>
                <select class="form-control" id="battle-num-games">
                    <option value="1">1 partida</option>
                    <option value="3">3 partidas</option>
                    <option value="5" selected>5 partidas</option>
                    <option value="10">10 partidas</option>
                    <option value="20">20 partidas</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Abertura</label>
                <select class="form-control" id="battle-opening">
                    <option value="random" selected>Aleatória</option>
                    <option value="e4">1.e4 (King's Pawn)</option>
                    <option value="d4">1.d4 (Queen's Pawn)</option>
                    <option value="Nf3">1.Nf3 (Réti Opening)</option>
                    <option value="c4">1.c4 (English Opening)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Tempo de Análise</label>
                <select class="form-control" id="battle-time">
                    <option value="0">Sem limite</option>
                    <option value="5">5 segundos</option>
                    <option value="10" selected>10 segundos</option>
                    <option value="30">30 segundos</option>
                    <option value="60">1 minuto</option>
                </select>
            </div>
        </div>

        <div class="d-flex gap-8 align-center" style="padding: 16px; background: var(--bg-tertiary); border-radius: var(--border-radius); margin-bottom: 20px;">
            <input type="checkbox" id="battle-alternating" checked>
            <label for="battle-alternating" class="form-label" style="margin: 0; cursor: pointer;">
                Alternar cores entre partidas
            </label>
            <div style="margin-left: auto; color: var(--text-muted); font-size: 12px;">
                Recomendado para torneios justos
            </div>
        </div>

        <button class="btn btn-primary" style="width: 100%; justify-content: center; padding: 16px; font-size: 16px;" data-action="start-battle">
            <i class="fas fa-play"></i>
            Iniciar Batalha
        </button>
    </div>
</div>

<!-- Tournament Tab -->
<div id="tournament-tab" class="tab-content">
    <div class="card mb-24">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-trophy"></i>
                Configurar Torneio Round-Robin
            </h3>
            <div class="d-flex gap-8">
                <button class="btn btn-sm btn-secondary">
                    <i class="fas fa-download"></i>
                    Carregar Template
                </button>
                <button class="btn btn-sm btn-secondary">
                    <i class="fas fa-save"></i>
                    Salvar Template
                </button>
            </div>
        </div>
        
        <div class="form-group">
            <label class="form-label">Participantes do Torneio</label>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px; max-height: 200px; overflow-y: auto; padding: 12px; border: 1px solid var(--border-color); border-radius: var(--border-radius); background: var(--bg-tertiary);">
                <label class="form-check">
                    <input type="checkbox" checked>
                    <span class="form-check-label">GPT-4o</span>
                    <span class="badge badge-success" style="margin-left: auto;">Online</span>
                </label>
                <label class="form-check">
                    <input type="checkbox" checked>
                    <span class="form-check-label">Gemini-1.5-Pro</span>
                    <span class="badge badge-success" style="margin-left: auto;">Online</span>
                </label>
                <label class="form-check">
                    <input type="checkbox" checked>
                    <span class="form-check-label">Claude-3.5-Sonnet</span>
                    <span class="badge badge-success" style="margin-left: auto;">Online</span>
                </label>
                <label class="form-check">
                    <input type="checkbox">
                    <span class="form-check-label">GPT-4-Turbo</span>
                    <span class="badge badge-success" style="margin-left: auto;">Online</span>
                </label>
                <label class="form-check">
                    <input type="checkbox">
                    <span class="form-check-label">Llama-3.1-70B</span>
                    <span class="badge badge-warning" style="margin-left: auto;">Limitado</span>
                </label>
                <label class="form-check">
                    <input type="checkbox">
                    <span class="form-check-label">Deepseek-R1</span>
                    <span class="badge badge-success" style="margin-left: auto;">Online</span>
                </label>
            </div>
        </div>

        <div class="d-grid" style="grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
            <div class="form-group">
                <label class="form-label">Partidas por Par</label>
                <select class="form-control">
                    <option value="1">1 partida</option>
                    <option value="2" selected>2 partidas</option>
                    <option value="4">4 partidas</option>
                    <option value="6">6 partidas</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Controle de Tempo</label>
                <select class="form-control">
                    <option value="10" selected>10 segundos por lance</option>
                    <option value="30">30 segundos por lance</option>
                    <option value="60">1 minuto por lance</option>
                    <option value="0">Sem limite</option>
                </select>
            </div>
        </div>

        <div class="d-flex justify-between align-center" style="padding: 16px; background: var(--bg-tertiary); border-radius: var(--border-radius); margin-bottom: 20px;">
            <div>
                <div style="font-weight: 600;">Resumo do Torneio</div>
                <div style="color: var(--text-secondary); font-size: 14px;">
                    <strong>6 partidas</strong> • Duração estimada: <strong>~15 minutos</strong>
                </div>
            </div>
            <button class="btn btn-success" style="padding: 12px 24px;">
                <i class="fas fa-flag"></i>
                Criar Torneio
            </button>
        </div>
    </div>

    <!-- Tournament Preview -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-table"></i>
                Preview do Bracket
            </h3>
        </div>
        
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Match</th>
                        <th>Brancas</th>
                        <th>Pretas</th>
                        <th>Status</th>
                        <th>Resultado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>1</strong></td>
                        <td>GPT-4o</td>
                        <td>Gemini-1.5-Pro</td>
                        <td><span class="status status-playing">Pendente</span></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td><strong>2</strong></td>
                        <td>Gemini-1.5-Pro</td>
                        <td>GPT-4o</td>
                        <td><span class="status status-playing">Pendente</span></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td><strong>3</strong></td>
                        <td>GPT-4o</td>
                        <td>Claude-3.5-Sonnet</td>
                        <td><span class="status status-playing">Pendente</span></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td><strong>4</strong></td>
                        <td>Claude-3.5-Sonnet</td>
                        <td>GPT-4o</td>
                        <td><span class="status status-playing">Pendente</span></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td><strong>5</strong></td>
                        <td>Gemini-1.5-Pro</td>
                        <td>Claude-3.5-Sonnet</td>
                        <td><span class="status status-playing">Pendente</span></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td><strong>6</strong></td>
                        <td>Claude-3.5-Sonnet</td>
                        <td>Gemini-1.5-Pro</td>
                        <td><span class="status status-playing">Pendente</span></td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Active Games Tab -->
<div id="active-tab" class="tab-content">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-play"></i>
                Partidas em Andamento
            </h3>
            <div class="d-flex gap-8">
                <button class="btn btn-sm btn-secondary">
                    <i class="fas fa-sync"></i>
                    Atualizar
                </button>
                <span class="badge badge-success">Live</span>
            </div>
        </div>
        
        <div id="active-games-list">
            <!-- This will be populated by JavaScript -->
            <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                <i class="fas fa-clock" style="font-size: 48px; margin-bottom: 16px; opacity: 0.5;"></i>
                <p>Nenhuma partida ativa no momento</p>
                <p style="font-size: 14px;">Inicie uma batalha ou torneio para ver as partidas aqui</p>
                <button class="btn btn-primary" style="margin-top: 16px;" onclick="document.querySelector('[data-tab=battle]').click()">
                    <i class="fas fa-plus"></i>
                    Criar Nova Batalha
                </button>
            </div>
        </div>
    </div>
</div>

<!-- History Tab -->
<div id="history-tab" class="tab-content">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-history"></i>
                Histórico de Batalhas
            </h3>
            <div class="d-flex gap-8">
                <button class="btn btn-sm btn-secondary">
                    <i class="fas fa-filter"></i>
                    Filtrar
                </button>
                <button class="btn btn-sm btn-secondary">
                    <i class="fas fa-download"></i>
                    Exportar
                </button>
            </div>
        </div>
        
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Tipo</th>
                        <th>Participantes</th>
                        <th>Partidas</th>
                        <th>Vencedor</th>
                        <th>Duração</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div style="font-weight: 600;">Hoje, 14:32</div>
                            <div style="color: var(--text-secondary); font-size: 12px;">#BATTLE_001</div>
                        </td>
                        <td>
                            <span class="badge badge-primary">1v1</span>
                        </td>
                        <td>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <span>GPT-4o</span>
                                <span style="color: var(--text-muted);">vs</span>
                                <span>Gemini-Pro</span>
                            </div>
                        </td>
                        <td>
                            <span style="font-family: var(--font-mono);">5</span>
                        </td>
                        <td>
                            <div class="d-flex align-center gap-8">
                                <div style="width: 20px; height: 20px; background: var(--lichess-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px;">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <span style="font-weight: 600;">GPT-4o</span>
                                <span class="badge badge-success">3-2</span>
                            </div>
                        </td>
                        <td>
                            <span style="font-family: var(--font-mono);">12m 34s</span>
                        </td>
                        <td>
                            <div class="d-flex gap-4">
                                <button class="btn btn-sm">
                                    <i class="fas fa-eye"></i>
                                    Ver
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    <i class="fas fa-download"></i>
                                    PGN
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div style="font-weight: 600;">Ontem, 18:45</div>
                            <div style="color: var(--text-secondary); font-size: 12px;">#TOURNAMENT_003</div>
                        </td>
                        <td>
                            <span class="badge badge-warning">Torneio</span>
                        </td>
                        <td>
                            <div style="display: flex; align-items: center; gap: 4px;">
                                <span>4 modelos</span>
                                <i class="fas fa-info-circle" style="color: var(--text-muted); cursor: help;" title="GPT-4o, Gemini-Pro, Claude-3.5, GPT-4-Turbo"></i>
                            </div>
                        </td>
                        <td>
                            <span style="font-family: var(--font-mono);">12</span>
                        </td>
                        <td>
                            <div class="d-flex align-center gap-8">
                                <div style="width: 20px; height: 20px; background: var(--lichess-brown); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px;">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <span style="font-weight: 600;">Claude-3.5</span>
                                <span class="badge badge-success">8.5pts</span>
                            </div>
                        </td>
                        <td>
                            <span style="font-family: var(--font-mono);">45m 12s</span>
                        </td>
                        <td>
                            <div class="d-flex gap-4">
                                <button class="btn btn-sm">
                                    <i class="fas fa-eye"></i>
                                    Ver
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    <i class="fas fa-download"></i>
                                    Relatório
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
// Arena-specific JavaScript
document.addEventListener('DOMContentLoaded', function() {
    // Tab switching for arena page
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const tabId = this.dataset.tab;
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            const targetTab = document.getElementById(`${tabId}-tab`);
            if (targetTab) {
                targetTab.classList.add('active');
            }
        });
    });

    // Model selection updates
    document.getElementById('battle-white-model')?.addEventListener('change', function() {
        updateModelDisplay('white', this.value);
    });

    document.getElementById('battle-black-model')?.addEventListener('change', function() {
        updateModelDisplay('black', this.value);
    });

    function updateModelDisplay(color, modelName) {
        // Update model avatar and info
        console.log(`Updated ${color} model to ${modelName}`);
    }
});
</script>